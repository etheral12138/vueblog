---
title: 计算机网络
date: 2023-1-30
icon: network
category:
- 计算机基础
tag:
- 计算机基础
---

## HTTP



## TCP

TCP是点对点的传输协议，所以没有多播服务

## IP



ARP协议工作流程

当一个基于TCP/IP的应用程序需要从一台主机发送数据给另一台主机时，它把信息分割并封装成包，附上目的主机的IP地址。然后，寻找IP地址到实际MAC地址的映射，这需要发送ARP广播消息。当ARP找到了目的主机MAC地址后，就可以形成待发送帧的完整以太网帧头。最后，协议栈将IP包封装到以太网帧中进行传送。

![图1](https://etheral.oss-cn-shanghai.aliyuncs.com/images/1746310.jpg)

在图1中，当主机A要和主机B通信（如主机A  Ping主机B）时。主机A会先检查其ARP缓存内是否有主机B的MAC地址。如果没有，主机**A会发送一个ARP请求广播包**，此包内包含着其欲与之通信的主机的IP地址，也就是主机B的IP地址。 

  当主机**B收到此广播后，会将自己的MAC地址利用ARP协议响应包传给主机A，并更新自己的ARP缓存**，也就是同时将主机A的IP地址/MAC地址对保存起来，以供后面使用。主机A在得到主机B的MAC地址后，就可以与主机B通信了。同时，主机**A也将主机B的IP地址/MAC地址对保存在自己的ARP协议缓存内**。



DHCP Client以广播的方式发出DHCP Discover报文。    

   所有的DHCP Server都能够接收到DHCP Client发送的DHCP Discover报文，所有的DHCP Server都会给出响应，向DHCP Client发送一个DHCP Offer报文。（**初始状态**）    

   DHCP Client收到来自很多DHCP Server的DHCP Offer报文，但只处理最早来到的DHCP Offer报文。（**选择状态**）    

   然后DHCP Client会发出一个广播的DHCP Request报文，在选项字段中会加入选中的DHCP Server的IP地址和需要的IP地址。DHCP Server收到DHCP Request报文后，判断选项字段中的IP地址是否与自己的地址相同。如果不相同，DHCP Server不做任何处理只清除相应IP地址分配记录；如果相同，DHCP Server就会向DHCP Client响应一个DHCP ACK报文，并在选项字段中增加IP地址的使用租期信息。（**请求状态**）    

   DHCP Client接收到DHCP ACK报文后，检查DHCP Server分配的IP地址是否能够使用。如果可以使用，则DHCP Client成功获得IP地址并根据IP地址使用租期自动启动续延过程。（**绑定状态**）

私有IP地址范围： 

A: 10.0.0.0~10.255.255.255 即10.0.0.0/8 

B:172.16.0.0~172.31.255.255即172.16.0.0/12 

C:192.168.0.0~192.168.255.255 即192.168.0.0/16

物理层使用的中间设备是转发器

数据链路层使用的中间设备是网桥或者桥接器

网络层使用的中间设备是路由器

网络层以上使用的是网关

网络层：路由器、防火墙

数据链路层：网卡、网桥、交换机

物理层：中继器、集线器、网线、网卡

**广播域是OSI模型中第二层的概念**，所以Hub、中继器、交换机、网桥等第一，第二层设备连接的节点被认为都是在同一个广播域。而路由器这样的第三层交换机才可以划分广播域。 

  而**冲突域是OSI模型中第一层的概念**，连接同一冲突域的设备有Hub，中继器或者其他进行简单复制信号的设备。用Hub或者中继器连接的所有节点可以被认为是在同一个冲突域内。而第二层设备（网桥，交换机），和第三层设备（路由器）都可以划分冲突域。

### 常见端口号

**http 80**

**ftp 20/21**

**ssh 22**

**telnet 23**

**smtp 25**